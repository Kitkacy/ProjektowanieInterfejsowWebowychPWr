import{t as x,v as m,w as f,x as v,r as i,y as B,n as G}from"./chunk-AYJ5UCUI-CtDWdivH.js";function D(s){return function(){const n={params:v(),loaderData:f(),actionData:m(),matches:x()};return i.createElement(s,n)}}function P(s){return function(){const n={params:v(),loaderData:f(),actionData:m(),error:B()};return i.createElement(s,n)}}const R=[{id:1,title:"How to Talk to Your Cat About Gun Safety",author:"John Smith",price:45.99,condition:"Like New",category:"Guns",description:"Do you love your cat? Well, no self-respecting cat mom or dad would let their baby grow up without a solid grounding in gun safety.",publishYear:2021,pages:450,language:"English",format:"Paperback",cover:"/images/covers/1.png",hasCover:!0},{id:2,title:"How to Survive a Garden Gnome Attack",author:"Sarah Johnson",price:38.5,condition:"Good",category:"Guides",description:"Crucial survival information when dealing with one of the world’s smallest menaces.",publishYear:2020,pages:380,language:"English",format:"Hardcover",cover:"/images/covers/2.png",hasCover:!0},{id:3,title:"Eating People is Wrong",author:"Michael Brown",price:52.75,condition:"Very Good",category:"Psychology",description:"The all in one book for the person on the fence.",publishYear:2019,pages:520,language:"English",format:"Paperback",cover:"/images/covers/3.png",hasCover:!0},{id:4,title:"Crafting with Cat Hair: Cute Handicrafts to Make with Your Cat",author:"Emily Chen",price:34.99,condition:"Good",category:"Guides",description:"Have you been storing your cat’s hair, waiting for your moment? Well, your moment is now.",publishYear:2022,pages:310,language:"English",format:"Paperback",cover:"/images/covers/4.jpg",hasCover:!0},{id:5,title:"The Field Guide to Dumb Birds of North America",author:"David Wilson",price:42.25,condition:"Like New",category:"Guides",description:"You may be outwitted by the smart ones, but these ones are more in your grasp.",publishYear:2021,pages:620,language:"English",format:"Hardcover",cover:"/images/covers/5.jpg",hasCover:!0},{id:6,title:"How to Raise Your I.Q. by Eating Gifted Children",author:"Jennifer Adams",price:29.99,condition:"Acceptable",category:"Psychology",description:"Children are the new Super Food.",publishYear:2018,pages:350,language:"English",format:"Digital",cover:"/images/covers/6.jpg",hasCover:!0},{id:7,title:"Microwave for One",author:"Robert Taylor",price:48.5,condition:"Very Good",category:"Cooking",description:"Microwave cooking turned all the way up to 1.",publishYear:2020,pages:480,language:"English",format:"Paperback",cover:"/images/covers/7.jpg",hasCover:!0},{id:8,title:"Extreme Ironing",author:"Amanda Lewis",price:36.75,condition:"Good",category:"Sports",description:"For the adrenaline junky looking to get their fix in this modern crazy world.",publishYear:2019,pages:290,language:"English",format:"Digital",cover:"/images/covers/8.jpg",hasCover:!0}],h="/images/covers/book-default-cover.jpg",w=i.createContext();function j({children:s}){const[r,n]=i.useState(R),[l,y]=i.useState([]),[u,p]=i.useState({category:[],condition:[],format:[],priceRange:{min:0,max:100},publishYear:[]}),b={categories:[...new Set(r.map(e=>e.category))],conditions:[...new Set(r.map(e=>e.condition))],formats:[...new Set(r.map(e=>e.format))],publishYears:[...new Set(r.map(e=>e.publishYear))].sort((e,o)=>o-e)},C=e=>{const o={...e,id:r.length+1,cover:h,hasCover:!1};n([...r,o])},k=e=>{n(r.filter(o=>o.id!==e))},E=(e,o)=>{p(a=>{const t={...a};return e==="priceRange"?t.priceRange=o:t[e].includes(o)?t[e]=t[e].filter(c=>c!==o):t[e]=[...t[e],o],l.length>0&&d(t),t})},d=(e=u)=>{const o=l.length>0?"":null;g(o,e)},g=(e,o=u)=>{let a=[...r];if(e&&e.trim()){const t=e.toLowerCase();a=a.filter(c=>c.title.toLowerCase().includes(t)||c.author.toLowerCase().includes(t)||c.category.toLowerCase().includes(t))}o.category.length>0&&(a=a.filter(t=>o.category.includes(t.category))),o.condition.length>0&&(a=a.filter(t=>o.condition.includes(t.condition))),o.format.length>0&&(a=a.filter(t=>o.format.includes(t.format))),o.publishYear.length>0&&(a=a.filter(t=>o.publishYear.includes(t.publishYear))),a=a.filter(t=>t.price>=o.priceRange.min&&t.price<=o.priceRange.max),y(a)},Y=()=>{p({category:[],condition:[],format:[],priceRange:{min:0,max:100},publishYear:[]}),l.length>0&&g("",{category:[],condition:[],format:[],priceRange:{min:0,max:100},publishYear:[]})};return G.jsx(w.Provider,{value:{books:r,featuredBooks:r.slice(0,3),searchResults:l,searchBooks:g,filters:u,updateFilters:E,applyFilters:d,resetFilters:Y,filterOptions:b,addBook:C,removeBook:k,DEFAULT_COVER:h},children:s})}function L(){return i.useContext(w)}export{j as B,P as a,L as u,D as w};
